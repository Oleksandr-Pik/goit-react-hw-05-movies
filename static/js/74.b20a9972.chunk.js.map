{"version":3,"file":"static/js/74.b20a9972.chunk.js","mappings":"iOAiBE,EAfgB,SAACA,GACjB,IAAMC,EAAU,CACdC,OAAQ,MACRC,IAAK,4CACLC,OAAQ,CAACJ,MAAOA,EAAOK,cAAe,QAASC,SAAU,QAASC,KAAM,KACxEC,QAAS,CACPC,OAAQ,mBACRC,cAAe,+NAInB,OAAOC,EAAAA,EAAAA,QACIV,EACX,E,SCkEF,EA7Ee,WAAO,IAADW,EACnBC,GAA4BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,GAAsCL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAC5BG,GAAWC,EAAAA,EAAAA,MACjBC,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAX,EAAAA,EAAAA,GAAAS,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAC9B3B,EAAiC,QAA5BY,EAAGgB,EAAaE,IAAI,gBAAQ,IAAAlB,EAAAA,EAAI,IAG3CmB,EAAAA,EAAAA,YAAU,WACHV,GACLW,EAAUX,GACPY,MAAK,SAAUC,GACdhB,EAAUgB,EAASC,KAAKC,SACxBC,QAAQC,IAAIJ,EAASC,KAAKC,QAC5B,IACCG,OAAM,SAAUC,GACfH,QAAQG,MAAMA,EAChB,GACJ,GAAG,CAACnB,IAiCJ,OACEoB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,MAAA,QAAMG,KAAK,SAASC,SAzBH,SAAAC,GACnBA,EAAIC,iBACJV,QAAQC,IAAI,cAAejB,GAC3BC,EAAgBwB,EAAIE,OAAO,GAAGC,OAE9BZ,QAAQa,IAAKJ,EAAIE,OAAO,GAAGC,OAC3BZ,QAAQC,IAAI,kBACZD,QAAQC,IAAI,eAAgBjB,EAY9B,EAM+CsB,SAAA,EACzCQ,EAAAA,EAAAA,KAAA,SAAOC,KAAK,OACZH,MAAOjD,EACPqD,SApCoB,SAAAP,GACxB,IAAMQ,EAAaR,EAAIE,OAAOC,MAC9B,GAAmB,KAAfK,EACF,OAAOzB,EAAgB,CAAC,GAE1BA,EAAgB,CAAE7B,MAAOsD,GAC3B,KAgCMH,EAAAA,EAAAA,KAAA,UAAQC,KAAK,SAAQT,SAAC,cAEvB1B,IACCkC,EAAAA,EAAAA,KAAA,MAAAR,SACG1B,EAAOsC,KAAI,SAAAC,GACV,OACEL,EAAAA,EAAAA,KAAA,MAAAR,UACEQ,EAAAA,EAAAA,KAACM,EAAAA,GAAI,CAACC,GAAE,GAAAC,OAAKH,EAAMI,IAAMC,MAAO,CAAEC,KAAMvC,GAAWoB,SAChDa,EAAMO,SAFFP,EAAMI,GAMnB,QAKV,C","sources":["servises/getMovies.js","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst getMovies = (query) => {\n  const options = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/search/movie',\n    params: {query: query, include_adult: 'false', language: 'uk-UA', page: '1'},\n    headers: {\n      accept: 'application/json',\n      Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0Y2RhM2MyMjFlZjA3NDBhMDFlNmMwZTllNzdkNzJkMCIsInN1YiI6IjY1OTU0Y2UwYTY5OGNmNWExMzQzYTA1ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.KQiqVQlKVKjNnvB8aixow-b7QW092Q8cG4KYkgdhwxo'\n    }\n  };\n\n  return axios\n    .request(options)\n  };\n\n  export default getMovies;","import React, { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport getMovies from 'servises/getMovies';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('')\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  // let searchQuery = \"batman\";\n\n  useEffect(() => {\n    if (!searchQuery) return;\n    getMovies(searchQuery)\n      .then(function (response) {\n        setMovies(response.data.results);\n        console.log(response.data.results);\n      })\n      .catch(function (error) {\n        console.error(error);\n      });\n  }, [searchQuery]);\n\n  const updateQueryString = evt => {\n    const queryValue = evt.target.value;\n    if (queryValue === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: queryValue });\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    console.log('searchQuery', searchQuery)\n    setSearchQuery (evt.target[0].value);\n    \n    console.dir( evt.target[0].value)\n    console.log('clik on search');\n    console.log('searchQuery:', searchQuery)\n\n    // if (!query) return;\n    // getMovies(query)\n    //   .then(function (response) {\n    //     setMovies(response.data.results);\n    //     console.log(response.data.results);\n    //   })\n    //   .catch(function (error) {\n    //     console.error(error);\n    //   });\n\n  };\n\n  // console.log(location);\n\n  return (\n    <>\n      <form role=\"search\" onSubmit={handleSubmit}>\n        <input type=\"text\" \n        value={query} \n        onChange={updateQueryString} \n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      {movies && (\n        <ul>\n          {movies.map(movie => {\n            return (\n              <li key={movie.id}>\n                <Link to={`${movie.id}`} state={{ from: location }}>\n                  {movie.title}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["query","options","method","url","params","include_adult","language","page","headers","accept","Authorization","axios","_searchParams$get","_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useState3","_useState4","searchQuery","setSearchQuery","location","useLocation","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","useEffect","getMovies","then","response","data","results","console","log","catch","error","_jsxs","_Fragment","children","role","onSubmit","evt","preventDefault","target","value","dir","_jsx","type","onChange","queryValue","map","movie","Link","to","concat","id","state","from","title"],"sourceRoot":""}